<div (click)="closeModal()" *ngIf="show" class="modal-bg"></div>

<div *ngIf="show" class="modal w-1/4 h-auto text-gray-800">
  <div class="modal-header h-1/5 flex justify-between items-center mb-3">
    <h5 class="modal-title font-bold text-lg">Create a new Passenger</h5>
    <button (click)="closeModal()" class="text-xl font-bold">Ã—</button>
  </div>
  <form (ngSubmit)="submitCreatePassenger()"
        [formGroup]="createPassengerForm"
        autocomplete="off"
        class="space-y-4">
    <div class="modal-body h-3/5">

      <div class="flex flex-col mb-2">
        <label class="mb-1 font-semibold" for="name">Name</label>
        <input [class.is-invalid]="name.invalid && name.touched"
               [class.is-valid]="name.valid && name.touched"
               class="p-2 border rounded" formControlName="name" id="name" name="name" type="text">
        <div *ngIf="name.invalid && name.touched"
             class="text-red-500 text-sm">
          <div *ngIf="name.errors?.['required']">Name is required</div>
          <div *ngIf="name.errors?.['maxlength']">Name must be no longer than 100 characters</div>
        </div>
      </div>

      <div class="flex flex-col mb-2">
        <label class="mb-1 font-semibold" for="username">Username</label>
        <input [class.is-invalid]="username.invalid && username.touched"
               [class.is-valid]="username.valid && username.touched"
               class="p-2 border rounded" formControlName="username" id="username" name="username" type="text">
        <div *ngIf="username.invalid && username.touched"
             class="text-red-500 text-sm">
          <div *ngIf="username.errors?.['required']">Username is required</div>
          <div *ngIf="username.errors?.['usernameTaken']">This username is already taken</div>
          <div *ngIf="username.errors?.['maxlength']">Username must be no longer than 100 characters</div>
        </div>
      </div>

      <div class="flex items-center mt-4">
        <label class="font-semibold" for="pilot">Pilot</label>
        <input class="ml-2 w-6 h-6" formControlName="isPilot" id="pilot" name="pilot" type="checkbox">
      </div>
    </div>
    <div class="modal-footer h-1/5 flex justify-end space-x-4 mt-4">
      <button
        (click)="closeModal()"
        class="text-white focus:ring-4 focus:outline-none font-medium rounded-lg text-base px-5 py-2.5 text-center bg-red-600 hover:bg-red-700 focus:ring-red-800"
        type="button">Close
      </button>
      <button
        class="text-white focus:ring-4 focus:outline-none font-medium rounded-lg text-base px-5 py-2.5 text-center bg-green-600 hover:bg-green-700 focus:ring-green-800"
        type="submit">Create User
      </button>
    </div>
  </form>
</div>
